{"version":3,"sources":["context/CartContext.js","components/CartWidget.js","components/Navbar.js","components/stock.js","components/pedirProductos.js","components/Item.js","components/ItemList.js","context/UIContext.js","components/Loader.js","components/ItemListContainer.js","components/ItemCount.js","components/ItemDetail.js","components/ItemDetailContainer.js","components/CartScreen.js","firebase/config.js","components/Checkout.js","firebase/generarOrden.js","App.js","reportWebVitals.js","index.js"],"names":["CartContext","createContext","init","JSON","parse","localStorage","getItem","CartProvider","children","useState","carrito","setCarrito","console","log","useEffect","setItem","stringify","Provider","value","addToCart","item","removeItem","itemId","newCart","filter","prod","id","calcularCantidad","reduce","acc","cantidad","vaciarCarrito","isInCart","some","calcularTotal","price","CartWidget","useContext","className","NavBar","activeClassName","exact","to","stock","name","autor","description","img","category","pedirProductos","Promise","resolve","reject","setTimeout","Item","style","width","variant","src","class","ItemList","productos","map","key","UIContext","UIProvider","loading","setLoading","Loader","ItemListContainer","items","setItems","categoryId","useParams","then","res","catch","err","finally","ItemCount","modify","max","onClick","ItemDetail","useHistory","goBack","push","setCantidad","alt","ItemDetailContainer","find","Number","CartScreen","length","height","app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","Checkout","nombre","apellido","email","tel","values","setValues","handleInputChange","e","target","onSubmit","preventDefault","alert","datos","total","a","orden","buyer","el","precio","date","firestore","Timestamp","fromDate","Date","db","orders","collection","itemsToUpdate","get","query","batch","outOfStock","docs","forEach","doc","add","commit","generarOrden","Swal","fire","icon","title","text","willClose","type","placeholder","onChange","App","logo","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.79d5840c.chunk.js","sourcesContent":["import React, { createContext, useEffect, useState } from 'react'\r\n\r\n\r\nexport const CartContext = createContext()\r\n\r\nconst init = JSON.parse(localStorage.getItem('carrito')) || []\r\n\r\nexport const CartProvider = ( {children} ) => {\r\n\r\n    const [carrito, setCarrito] = useState(init)\r\n\r\n    console.log(carrito)\r\n    \r\n    const addToCart = (item) => {\r\n      setCarrito( [...carrito, item] )\r\n    }\r\n    \r\n    const removeItem = (itemId) => {\r\n      const newCart = carrito.filter( (prod) => prod.id !== itemId)\r\n      setCarrito( newCart )\r\n    }\r\n  \r\n    const calcularCantidad = () => {\r\n      return carrito.reduce( (acc, prod) => acc + prod.cantidad, 0 )\r\n    }\r\n\r\n    const calcularTotal = () => {\r\n      return carrito.reduce( (acc, prod) => acc + prod.cantidad * prod.price, 0)\r\n    }\r\n\r\n    const isInCart = (itemId) => {\r\n      return carrito.some( (prod) => prod.id === itemId)\r\n    }\r\n  \r\n    const vaciarCarrito = () => {\r\n      setCarrito([])\r\n    }\r\n    \r\n    useEffect(()=>{\r\n      localStorage.setItem('carrito', JSON.stringify(carrito))\r\n    }, [carrito])\r\n  \r\n    return (\r\n        <CartContext.Provider value={ {\r\n            carrito,\r\n            addToCart,\r\n            removeItem,\r\n            calcularCantidad,\r\n            vaciarCarrito,\r\n            isInCart,\r\n            calcularTotal\r\n        }}>\r\n            {children}\r\n        </CartContext.Provider>\r\n    )\r\n\r\n}","import React, { useContext } from 'react'\r\nimport {FaShoppingCart} from 'react-icons/fa'\r\nimport { CartContext } from '../context/CartContext'\r\n\r\nexport const CartWidget = () => {\r\n    \r\n    const { calcularCantidad } = useContext(CartContext)\r\n\r\n    return (\r\n        <div>\r\n            <FaShoppingCart className=\"widget\"/>\r\n            <span>{calcularCantidad()}</span>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport { CartWidget } from './CartWidget'\r\nimport './estilos.css'\r\n\r\n\r\n\r\n\r\n\r\nfunction NavBar() {\r\n    return (\r\n        <header className=\"encabezado\">\r\n            <h1> BookStore </h1>\r\n            <nav className=\"navgacion\">\r\n            <ul className=\"menu\">\r\n                <li><NavLink activeClassName={'activeLink'} exact to=\"/\">Inicio</NavLink></li>\r\n                <li><NavLink activeClassName={'activeLink'} exact to=\"/productos/\">Libros</NavLink>\r\n                <ul className= \"submenu\">\r\n                <li><NavLink activeClassName={'activeLink'} exact to=\"/productos/Fantasía/\">Fantasía</NavLink></li>\r\n                <li><NavLink activeClassName={'activeLink'} exact to=\"/productos/terror/\">Terror</NavLink></li>\r\n                </ul>\r\n                </li>\r\n               \r\n                <li className=\"cart\"><Link to=\"/cart\"><CartWidget/></Link></li>\r\n            </ul>\r\n\r\n            </nav>\r\n        </header>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default NavBar;\r\n","export const stock = [\r\n    {\r\n        id: 1,\r\n        name: \"Alicia\",\r\n        autor:\"Carroll Lewis\",\r\n        description: \"Alicia es una niña a la que no le gusta leer libros sin dibujos. Un día se encuentra con su hermana a la orilla de un río, aburrida y de repente ve cómo un conejo blanco revisa su reloj y exclama que llega tarde. ¿De dónde viene el conejo y por qué llega tarde? Movida por la curiosidad Alicia lo sigue y llega a un mundo subterráneo lleno de maravillas, donde vive miles de aventuras que rozan lo irracional, donde las situaciones son como en los sueños y los animales hablan. \",\r\n        price: 1500,\r\n        img: \"https://i.pinimg.com/564x/41/da/5f/41da5f5afaf46018962c50c741508ab6.jpg\",\r\n        category:'Fantasía',\r\n        stock: 20\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"La puerta del bosque\",\r\n        autor:\"Melissa Albert\",\r\n        description: \"Alice, una chica de diecisiete años, y su madre se han pasado la mayor parte de sus vidas de un sitio para otro, siempre un paso por delante de la extraña mala suerte que les pisa los talones. Pero cuando la abuela de Alice,la esquiva autora de un libro de cuentos espeluznantes, muere en su finca del bosque, Alice descubre hasta dónde puede llegar su mala suerte. Su madre desaparece y deja un extraño mensaje: no te acerques al bosque de los avellanos. Pararecuperarla, Alice tendrá que adentrarse en el mundo en que nacieron las historias de su abuela y donde quizás encuentre la razón del monstruoso y estremecedor origen de su historia.\",\r\n        price: 2500,\r\n        img: \"https://i.pinimg.com/564x/d7/29/b0/d729b0e87ce197e696b1fbae159a857a.jpg\",\r\n        category:'terror',\r\n        stock: 20\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"En el bosque oscuro \",\r\n        autor:\"\tBailey, Dale\",\r\n        description: \"UN BOSQUE. UN LIBRO. UNA NIÑA DESAPARECIDA...A Charles Hayden le ha fascinado siempre la leyenda victoriana In the Night Wood, escrita por Caedmon Hollow. Poco despues de la muerte de su hija, Charles y su mujer Erin, descendiente de Hollow, heredan la casa de su antecesor y deciden mudarse al pequeño pueblo ingles donde se encuentra. Pero Hollow House y el bosque que la envuelve están repletos de misterios y secretos que parecen revivir con la llegada de la pareja al pueblo. Ecos de viejas historias empiezan a resonar por la biblioteca de Hollow House. Historias tan antiguas y oscuras como el bosque que les rodea.\",\r\n        price: 800,\r\n        img: \"https://i.pinimg.com/564x/11/06/8f/11068f6ba4f2479240a02f47f677e700.jpg\",\r\n        category:'Fantasía',\r\n        stock: 20\r\n    },\r\n    {\r\n        id: 4,\r\n        name: \"Coraline\",\r\n        autor:\"Neil Gaiman\",\r\n        description: \"Al día siguiente de mudarse de casa, Coraline explora las catorce puertas de su nuevo hogar. Trece se pueden abrir con normalidad, pero la decimocuarta está cerrada y tapiada. Cuando por fin consigue abrirla, Coraline se encuentra con un pasadizo secreto que la conduce a otra casa tan parecida a la suya que resulta escalofriante.Sin embargo, hay ciertas diferencias que llaman su atención: la comida es más rica, los juguetes son tan desconocidos como maravillosos y, sobre todo, hay otra madre y otro padre que quieren que Coraline se quede con ellos, se convierta en su hija y no se marche nunca. Pronto Coraline se da cuenta de que, tras los espejos, hay otros niños que han caído en la trampa. Son como almas perdidas, y ahora ella es su única esperanza de salvación. Pero para rescatarlos tendrá también que recuperar a sus verdaderos padres, y cumplir así el desafío que le permitirá volver a su vida anterior.\",\r\n        price: 6000,\r\n        img: \"https://i.pinimg.com/564x/a3/37/61/a337612ff0aae762218c35a56b2093e8.jpg\",\r\n        category:'terror',\r\n        stock: 20\r\n    },\r\n    {\r\n        id: 5,\r\n        name: \"La Sangre Manda\",\r\n        autor:\"Stephen King\",\r\n        description: \"La sangre vende. Así reza la máxima periodística que hará que Holly Gibney, la detective a la que Bill Hodges legó su agencia Finders Keepers, se interese por la matanza en el instituto Albert Macready y acabe enganchada a las noticias. Algo no encaja y el fantasma de la coartada perfecta del terrorífico visitante será el detonante en su primer caso en solitario. Si bien Holly no tendrá ayuda en la secuela del exitoso noir paranormal del rey del terror, en este libro la acompañan tres historias más. En la primera, un niño tiene como guardaespaldas al fantasma de un millonario excéntrico. En la segunda, el mundo se acaba: hay múltiples terremotos, internet ha caído y la peste está mermando a la Humanidad mientras ciudades de todas partes se llenan de enigmáticos carteles. Y, en la última, un escritor se instala en una cabaña aislada para escribir una novela, y acaba enfrentándose a sus propios demonios. Cuatro relatos largos en los que el legendario narrador de cuentos y autor superventas, sorprende nuevamente a los lectores y les conduce a lugares intrigantes a la vez que aterradores.\",\r\n        price: 3000,\r\n        img: \"https://i.pinimg.com/564x/00/18/36/0018368acfaffdfe9e5db4e3dbb413b9.jpg\",\r\n        category:'terror',\r\n        stock: 20\r\n    },\r\n\r\n    {\r\n        id: 6,\r\n        name: \"El retrato de Dorian Gray\",\r\n        autor:\"Oscar Wilde\",\r\n        description: \"El retrato de Dorian Gray (1891), la única novela escrita por Oscar Wilde, recrea el mito del personaje que vende su alma al diablo a cambio de su eterna juventud. Dorian es un perverso y encuentra placer en el daño que hace a los demás. Su retrato va consignando el paso del tiempo y la crueldad creciente del protagonista.Mientras el Dorian Gray de carne y hueso no se marchita, el retrato va deteriorando a cada nuevo horror que él comete.Es una intensa historia de decadencia moral, que describe todo el proceso de la corrupción del protagonista y, a través de un sorprendente final, defiende la lucha contra la degradación moral.\",\r\n        price: 3000,\r\n        img: \"https://i.pinimg.com/564x/df/e8/a5/dfe8a5d76230eda0dfa226e53b561b91.jpg\",\r\n        category:'terror',\r\n        stock: 20\r\n    },\r\n\r\n    {\r\n        id: 7,\r\n        name: \"El Nombre Del Viento\",\r\n        autor:\"Rothfuss, Patrick\",\r\n        description: \"En una posada en tierra de nadie, un hombre se dispone a relatar, por primera vez, la auténtica historia de su vida. Una historia que únicamente él conoce y que ha quedado diluida tras los rumores, las conjeturas y los cuentos de taberna que le han convertido en un personaje legendario a quien todos daban ya por muerto: Kvothe# músico, mendigo, ladrón, estudiante, mago, héroe y asesino. Ahora va a revelar la verdad sobre sí mismo. Y para ello debe empezar por el principio: su infancia en una troupe de artistas itinerantes, los años malviviendo como un ladronzuelo en las calles de una gran ciudad y su llegada a una universidad donde esperaba encontrar todas las respuestas que había estado buscando. «Viajé, amé, perdí, confié y me traicionaron.» «He robado princesas a reyes agónicos. Incendié la ciudad de Trebon. He pasado la noche con Felurian y he despertado vivo y cuerdo. Me expulsaron de la Universidad a una edad a la que a la mayoría todavía no los dejan entrar. He recorrido de noche caminos de los que otros no se atreven a hablar ni siquiera de día. He hablado con dioses, he amado a mujeres y he escrito canciones que hacen llorar a los bardos. »Me llamo Kvothe. Quizá hayas oído hablar de mí.\",\r\n        price: 3000,\r\n        img: \"https://i.pinimg.com/564x/7b/10/02/7b1002b87648de278b606271afe6b2dc.jpg\",\r\n        category:'Fantasía',\r\n        stock: 20\r\n    },\r\n    \r\n    {\r\n        id: 8,\r\n        name: \"Libro 8\",\r\n        autor:\"MELISSA ALBERT\",\r\n        description: \"Los libros se desarrollan durante los siete años que Harry Potter pasa en el Colegio Hogwarts de Magia y Hechicería. Estas novelas se basan en la lucha entre Harry Potter y el malvado mago Lord Voldemort, quien mató a los padres de Harry Potter en su intento de conquistar el mundo mágico.\",\r\n        price: 3000,\r\n        img: \"https://i.pinimg.com/564x/ac/24/27/ac2427ee7c7e77b343fc0d968088b838.jpg\",\r\n        category:'Fantasía',\r\n        stock: 20\r\n    }\r\n    \r\n]","import { stock } from \"../components/stock\"\r\n\r\n\r\nexport const pedirProductos = () => {\r\n    return new Promise((resolve, reject) => {\r\n        setTimeout(()=>{\r\n            resolve(stock)\r\n            // reject(\"Rechazado\")\r\n        }, 1000)\r\n\r\n    })\r\n}","import React from \"react\";\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport const Item = ( {id, name, price, img, autor,category} ) => {\r\n\r\n    // console.log(props)\r\n\r\n    return (\r\n\r\n        <div className=\"texCen\" style={{ width: '18rem' }} >\r\n            <img className=\"imgPrincipal\" variant=\"top\" src={img} />\r\n            <div className=\"texCen\">\r\n                <h2>{name}</h2>\r\n                <h3>{autor}</h3>\r\n                <p>Precio: ${price}</p>\r\n                <p>Categoria: {category}</p>\r\n\r\n                <Link to={`/detail/${id}`}>\r\n\r\n                <button class=\"btn third\">Lo Quiero</button> \r\n                </Link>\r\n            </div>\r\n        </div>\r\n\r\n        \r\n    )\r\n\r\n\r\n    \r\n}\r\n\r\n","import React from 'react';\r\nimport { Item } from './Item'\r\n\r\nexport const ItemList = ( {productos = []} ) => {\r\n\r\n\r\n    return (\r\n        <div className=\"centrProd\" >\r\n            <h2 className=\"productosPrincipal\">Nuestros Libros</h2>\r\n            \r\n\r\n            <div >\r\n                { productos.map((item) => <Item {...item} key={item.id}/> )}\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, { createContext, useState } from 'react'\r\n\r\n\r\nexport const UIContext = createContext()\r\n\r\nexport const UIProvider = ({children}) => {\r\n\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    return (\r\n        <UIContext.Provider value={{\r\n            loading,\r\n            setLoading\r\n        }}>\r\n            {children}\r\n        </UIContext.Provider>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport const Loader = () => {\r\n\r\n    return (\r\n        <div className=\"loader\">\r\n            <h2 className=\"cargando\">Cargando...</h2>\r\n        </div>\r\n    )\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router'\r\nimport { pedirProductos } from '../components/pedirProductos'\r\nimport { ItemList } from './ItemList'\r\nimport { UIContext } from '../context/UIContext'\r\nimport './estilos.css'\r\nimport { Loader } from './Loader'\r\n\r\n\r\n\r\nexport const ItemListContainer = () => {\r\n\r\n    const [items, setItems] = useState([])\r\n    const {loading, setLoading} = useContext(UIContext)\r\n\r\n\r\n\r\n    const {categoryId} = useParams()\r\n\r\n    useEffect(()=>{\r\n        setLoading(true)\r\n\r\n        pedirProductos()\r\n            .then((res) => {\r\n\r\n                if (categoryId) {\r\n                    setItems( res.filter( prod => prod.category === categoryId) )\r\n                } else {\r\n                    setItems( res )\r\n                }\r\n            })\r\n            .catch((err) => console.log(err))\r\n            .finally(() => {\r\n                setLoading(false)\r\n            })\r\n\r\n    }, [categoryId])\r\n\r\n    // useEffect(async ()=> {\r\n    //    // mock llamado a la API\r\n    //     const res = await pedirProductos()\r\n    //     console.log(res)\r\n    // }, [])\r\n\r\n\r\n    return (\r\n        <section>\r\n            {\r\n                loading \r\n                    ? <Loader/>\r\n                    : <ItemList productos={items}/>\r\n            }\r\n            \r\n        </section>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\n\r\nexport const ItemCount = ( {cantidad, modify, max} ) => {\r\n\r\n    const handleRestar = () => {\r\n        if (cantidad > 0)  {\r\n            modify(cantidad - 1)\r\n        }\r\n    }\r\n\r\n    const handleSumar = () => {\r\n        if (cantidad < max) {\r\n            modify(cantidad + 1)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"btnMasMenos\">\r\n            <button \r\n                onClick={handleRestar}\r\n        \r\n            >\r\n                -\r\n            </button>\r\n\r\n            <span>{cantidad}</span>\r\n\r\n            <button\r\n                onClick={handleSumar}\r\n               \r\n            >\r\n                +\r\n            </button>\r\n        </div>\r\n    )\r\n}","import React,  { useContext, useState } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport { Link } from 'react-router-dom'\r\nimport { CartContext } from '../context/CartContext'\r\nimport { ItemCount } from '../components/ItemCount'\r\n\r\n\r\n\r\nexport const ItemDetail = ({ id, name, price, img, description, category, stock} ) => {\r\n\r\n    const {goBack, push} = useHistory()\r\n\r\n    const {addToCart, isInCart} = useContext(CartContext)\r\n\r\n    const [cantidad, setCantidad] = useState(0)\r\n\r\n    const handleAgregar = () => {\r\n        const newItem = {\r\n            id,\r\n            name,\r\n            price,\r\n            category,\r\n            cantidad,\r\n            img\r\n           \r\n        }\r\n\r\n        if (cantidad > 0) {\r\n            addToCart(newItem)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"carrito\">\r\n            <h2 className=\"titLibro\">{name}</h2>\r\n            <img className=\"texto\" src={img} alt={name}/>\r\n            <p className=\"descripcion\">{description}</p>\r\n            <div className=\"precio\">\r\n            <h4>Precio: ${price}</h4>\r\n            </div>\r\n            {/* purchase option / counter */}\r\n\r\n            { isInCart(id) \r\n            \r\n                ? <div className=\"link\"><Link to=\"/cart\" className=\"btn btn-sm animated-button thar-four\">Terminar mi compra</Link></div>\r\n                :\r\n                    <>\r\n                        <ItemCount cantidad={cantidad} modify={setCantidad} max={stock}/>\r\n                        <button className=\"btnAgregar\"\r\n                \r\n                            onClick={handleAgregar}\r\n                            >\r\n                            Agregar \r\n                        </button>\r\n                    </>\r\n            }\r\n\r\n<div className=\"volver\">\r\n            <button className=\"btnAgregar\"\r\n               \r\n                onClick={() => goBack()}\r\n            >\r\n Volver\r\n            </button>\r\n\r\n            <button className=\"btnAgregar\" onClick={() => push(\"/\")}>\r\n Back to top\r\n            </button>\r\n</div>\r\n\r\n        </div>\r\n    )\r\n}","import React, {useContext, useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router'\r\nimport { pedirProductos } from '../components/pedirProductos'\r\nimport { ItemDetail } from './ItemDetail'\r\nimport { UIContext } from '../context/UIContext'\r\nimport { Loader } from './Loader'\r\n\r\n\r\nexport const ItemDetailContainer = () => {\r\n\r\n    const [item, setItem] = useState(null)\r\n    \r\n    const {loading, setLoading} = useContext(UIContext)\r\n\r\n    const {itemId} = useParams()\r\n\r\n    useEffect(()=>{\r\n        setLoading(true)\r\n\r\n        pedirProductos()\r\n            .then( res => {\r\n                setItem( res.find( prod => prod.id === Number(itemId)) )\r\n            })\r\n            .finally(()=> {\r\n                setLoading(false)\r\n            })\r\n\r\n    }, [itemId])\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                loading\r\n                ?<Loader/>\r\n                : <ItemDetail {...item}/>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useContext } from 'react'\r\nimport { BsFillTrashFill } from 'react-icons/bs'\r\nimport { Link } from 'react-router-dom'\r\nimport { CartContext } from '../context/CartContext'\r\n\r\nexport const CartScreen = () => {\r\n\r\n    const {carrito, vaciarCarrito, removeItem, calcularTotal} = useContext(CartContext)\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            {\r\n                carrito.length === 0\r\n                ? <>\r\n                <div className=\"centerProductos\">\r\n                    <h2 className=\"centerProd\">No hay productos agregados</h2>\r\n                    \r\n                    \r\n                    <Link className=\" btn-three\" to=\"/\">Ir a comprar</Link>\r\n                    </div>\r\n                    \r\n                    \r\n                 </>\r\n                :\r\n                    <>\r\n                       <div className=\"carrito\"><h2 className=\"titLibro\">Resumen de compra</h2></div>\r\n                        \r\n\r\n                        {\r\n                            carrito.map( (prod) => (\r\n                                \r\n                                <div className=\"carritoMin\">\r\n                                    <h4>{prod.name}</h4>\r\n                                    <img className=\"imgCarrito\"  src={prod.img} width=\"20px\" height=\"30\"/>\r\n                                    <p>Cantidad: {prod.cantidad}</p>\r\n                                    <p>Precio: {prod.price * prod.cantidad}</p>\r\n                                    <button className=\"btnBorrar\" onClick={() => removeItem(prod.id)}>\r\n                                        <BsFillTrashFill className=\"borrar\"/>\r\n                                    </button>\r\n                                </div>\r\n                                \r\n                            ))\r\n                        }\r\n\r\n                        <hr/>\r\n                        <h3 className=\"precioTotal\" >Precio total: ${calcularTotal()}</h3>\r\n                       <div className=\"finCompra\">\r\n                        <button className=\"btn first\"\r\n                            \r\n                            onClick={vaciarCarrito}\r\n                        >\r\n                            Vaciar carrito\r\n                        </button>\r\n\r\n                       <button className=\"btn third\"><Link to=\"/checkout\" >\r\n                            Terminar Compra\r\n                        </Link>\r\n                        </button>\r\n                        </div>\r\n                    </>\r\n            } \r\n\r\n        </div>\r\n    )\r\n}","import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\n\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDSR8uoc8eu5TuusG_hQU8_b0F8TlvrfIk\",\r\n  authDomain: \"e-books-macarena-leiva.firebaseapp.com\",\r\n  projectId: \"e-books-macarena-leiva\",\r\n  storageBucket: \"e-books-macarena-leiva.appspot.com\",\r\n  messagingSenderId: \"492871527691\",\r\n  appId: \"1:492871527691:web:39c31c8da766005f25c60e\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\n\r\n\r\nexport const getFirestore = () => {\r\n    return firebase.firestore(app)\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { Redirect } from 'react-router'\r\nimport { CartContext } from '../context/CartContext'\r\nimport Swal from 'sweetalert2'\r\nimport { UIContext } from '../context/UIContext'\r\nimport { Loader } from '../components/Loader'\r\nimport { generarOrden } from '../firebase/generarOrden'\r\n\r\nexport const Checkout = () => {\r\n\r\n    const {loading, setLoading} = useContext(UIContext)\r\n    const {carrito, calcularTotal, vaciarCarrito} = useContext(CartContext)\r\n\r\n    const [values, setValues] = useState({\r\n        nombre: '',\r\n        apellido: '',\r\n        email: '',\r\n        tel: ''\r\n    })\r\n\r\n    const handleInputChange = (e) => {\r\n        setValues({\r\n            ...values,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n\r\n        if (values.nombre.length < 3) {\r\n            alert(\"Nombre inválido\")\r\n            return\r\n        }\r\n        if (values.apellido.length < 3) {\r\n            alert(\"Apellido inválido\")\r\n            return\r\n        }\r\n        if (values.email.length < 3) {\r\n            alert(\"Email inválido\")\r\n            return\r\n        }\r\n        if (values.tel.length < 7) {\r\n            alert(\"Teléfono inválido\")\r\n            return\r\n        }\r\n\r\n        setLoading(true)\r\n        generarOrden(values, carrito, calcularTotal())\r\n            .then((res) => {\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Orden registrada!',\r\n                    text: `Guarde su comprobante: ${res}`,\r\n                    willClose: () => {\r\n                        vaciarCarrito()\r\n                    }\r\n                })\r\n            })\r\n           \r\n            \r\n            .finally(() => {\r\n                setLoading(false)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {carrito.length === 0 && <Redirect to=\"/\"/>}\r\n            {loading && <Loader/>}\r\n\r\n            <div>\r\n                <h2 className=\"titLibro\">Complete sus datos</h2>\r\n                \r\n                {/* listado de la compra */}\r\n                <div className=\"form\">\r\n                <form onSubmit={handleSubmit}>\r\n                    <h2 className=\"titLibro\">Formulario</h2>\r\n                    <input\r\n                        className=\"input\"\r\n                        type=\"text\"\r\n                        placeholder=\"Nombre\"\r\n                        name=\"nombre\"\r\n                        value={values.nombre}\r\n                        onChange={handleInputChange}\r\n                        />\r\n                    {values.nombre.length === 0 && <small>Este campo es obligatorio</small>}\r\n\r\n                    <input\r\n                        className=\"input\"\r\n                        type=\"text\"\r\n                        placeholder=\"Apellido\"\r\n                        name=\"apellido\"\r\n                        value={values.apellido}\r\n                        onChange={handleInputChange}\r\n                        />\r\n                    {values.apellido.length === 0 && <small>Este campo es obligatorio</small>}\r\n\r\n                    <input\r\n                        className=\"input\"\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        name=\"email\"\r\n                        value={values.email}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    {values.email.length === 0 && <small>Este campo es obligatorio</small>}\r\n\r\n                    <input\r\n                        className=\"input\"\r\n                        type=\"tel\"\r\n                        placeholder=\"Teléfono\"\r\n                        name=\"tel\"\r\n                        value={values.tel}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    {values.tel.length === 0 && <small>Este campo es obligatorio</small>}\r\n\r\n                    <button className=\"btn third\" type=\"submit\"> Finalizar</button>\r\n                </form>\r\n            </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import { getFirestore } from './config'\r\nimport firebase from 'firebase'\r\nimport 'firebase/firestore'\r\n\r\nexport const generarOrden =  (datos, carrito, total) => {\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n\r\n        // generar el objeto orden\r\n        const orden = {\r\n            buyer: datos,\r\n            items: carrito.map((el) => ({id: el.id, precio: el.price, cantidad: el.cantidad})),\r\n            total: total,\r\n            date: firebase.firestore.Timestamp.fromDate(new Date())\r\n        }\r\n        // enviar la orden a firestore\r\n\r\n        // batch de atualizacion\r\n\r\n        const db = getFirestore()\r\n        const orders = db.collection('orders')\r\n        const itemsToUpdate = db.collection('productos')\r\n            \r\n            \r\n        const query = await itemsToUpdate.get()\r\n        const batch = db.batch()\r\n\r\n        const outOfStock = []\r\n\r\n        query.docs.forEach((doc) => {\r\n            const itemInCart = carrito.find(prod => prod.id === doc.id)\r\n\r\n           \r\n        })\r\n\r\n        if (outOfStock.length === 0) {\r\n            orders.add(orden)\r\n                .then((res) => {\r\n                    batch.commit()\r\n                    resolve(res.id)\r\n                })\r\n        } else {\r\n           reject(outOfStock)\r\n        }\r\n    })   \r\n}\r\n\r\n","import NavBar from \"./components/Navbar\";\n\nimport { ItemListContainer } from  './components/ItemListContainer'\nimport { ItemDetailContainer } from './components/ItemDetailContainer';\nimport {\n  BrowserRouter,\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom'\nimport { CartProvider } from './context/CartContext';\nimport { CartScreen } from './components/CartScreen';\nimport { UIProvider } from './context/UIContext';\nimport { Checkout } from './components/Checkout';\n\n\n\n\nfunction App() {\n  return (\n    <>\n    \n    <UIProvider>\n        <CartProvider>\n\n    <BrowserRouter>\n\n        <NavBar logo=\"E-Books\"/>\n        \n\n        <Switch>\n          <Route exact path=\"/\">\n              <ItemListContainer />\n          </Route>\n\n\n          <Route exact path=\"/productos/:categoryId\">\n              <ItemListContainer />\n          </Route>\n\n          <Route exact path=\"/detail/:itemId\">\n              <ItemDetailContainer />\n          </Route>\n\n          \n\n          <Route exact path=\"/cart\">\n          <CartScreen/>\n            \n            \n          </Route>\n\n          <Route exact path=\"/checkout\">\n                <Checkout/>\n              </Route>\n\n          <Route path=\"*\">\n              <Redirect to=\"/\"/>\n          </Route>\n          \n        </Switch>\n\n      </BrowserRouter>\n\n      </CartProvider>\n      </UIProvider>\n    </>\n  );\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n    if (onPerfEntry && onPerfEntry instanceof Function) {\r\n      import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n        getCLS(onPerfEntry);\r\n        getFID(onPerfEntry);\r\n        getFCP(onPerfEntry);\r\n        getLCP(onPerfEntry);\r\n        getTTFB(onPerfEntry);\r\n      });\r\n    }\r\n  };\r\n  \r\n  export default reportWebVitals;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}